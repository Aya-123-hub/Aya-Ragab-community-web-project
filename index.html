<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aya Ragab Community</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        nav {
            background-color: #4CAF50;
            color: white;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        nav ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            display: flex;
        }

        nav ul li {
            margin: 0 10px;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
        }

        section {
            padding: 20px;
        }

        .blog-box {
            border: 1px solid #ddd;
            padding: 10px;
            margin: 10px 0;
            background-color: #f9f9f9;
        }

        .blog-box img {
            max-width: 100%;
            height: auto;
            margin-bottom: 10px;
        }

        form {
            margin-bottom: 20px;
        }

        form input, form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        form button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }

        footer {
            text-align: center;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
        }

        .like-dislike-buttons button {
            margin-right: 10px;
            padding: 5px 10px;
        }

        .admin-section, .admin-password {
            display: none;
        }

        .comment-section {
            margin-top: 10px;
        }

        .comment-section textarea {
            width: 100%;
            padding: 5px;
        }

        .comment-section button {
            padding: 5px;
            margin-top: 5px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }

    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav>
        <div class="logo">
            <h1>Aya Ragab Community</h1>
        </div>
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About Us</a></li>
            <li><a href="#blogs">Blogs</a></li>
            <li><a href="#join">Join Us</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <!-- Home Section -->
    <section id="home">
        <h2>Welcome to Aya Ragab Community</h2>
        <p>Building connections and making a difference together.</p>
    </section>

    <!-- About Us Section -->
    <section id="about">
        <h2>About Us</h2>
        <p>Our community is focused on bringing people together, sharing knowledge, and making a positive impact. Established in 2010, we continue to grow and inspire more individuals to connect.</p>
    </section>

    <!-- Blog Section -->
    <section id="blogs">
        <h2>Blogs</h2>
        <form id="blog-form">
            <input type="text" id="blog-title" placeholder="Blog Title" required>
            <textarea id="blog-content" placeholder="Write your blog here..." rows="5" required></textarea>

            <!-- Image Upload Section -->
            <label for="blog-image"><strong>Upload an Image for the Blog:</strong></label>
            <input type="file" id="blog-image" accept="image/*" required>

            <!-- PDF and Word Uploads Section -->
            <label for="blog-pdf"><strong>Upload a PDF (optional):</strong></label>
            <input type="file" id="blog-pdf" accept=".pdf">

            <label for="blog-doc"><strong>Upload a Word Document (optional):</strong></label>
            <input type="file" id="blog-doc" accept=".doc,.docx">

            <button type="button" onclick="submitBlog()">Submit Blog</button>
        </form>

        <div class="blog-display" id="blog-display">
            <!-- Blog posts will appear here -->
        </div>
    </section>

    <!-- Admin Section -->
    <section id="admin-section">
        <h2>Admin Approval Section</h2>
        <div id="pending-blogs">
            <!-- Pending blogs for admin approval will appear here -->
        </div>
    </section>

    <!-- Admin Login -->
    <section class="admin-password" id="admin-password">
        <h2>Admin Login</h2>
        <input type="password" id="admin-pass" placeholder="Enter admin password">
        <button onclick="adminLogin()">Login</button>
    </section>

    <!-- Join Us Section -->
    <section id="join">
        <h2>Join Us</h2>
        <p>Want to become a part of our community? Sign up for our newsletter or register for upcoming events!</p>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <h2>Contact Us</h2>
        <p>Email: <a href="mailto:ayaragab650@gmail.com">ayaragab650@gmail.com</a></p>
        <p>Phone: +20 112 096 5157</p>
    </section>

    <!-- Sticky Footer -->
    <footer>
        <p>Connect with us: <a href="https://www.facebook.com/profile.php?id=100024744060698">Facebook</a></p>
    </footer>

    <!-- JavaScript for Blog Management -->
    <script>
        document.addEventListener('DOMContentLoaded', loadBlogs);

        // Admin password
        const ADMIN_PASSWORD = 'Ayayoyoyota123@&';

        function submitBlog() {
            const blogTitle = document.getElementById('blog-title').value;
            const blogContent = document.getElementById('blog-content').value;
            const blogImage = document.getElementById('blog-image').files[0];
            const blogPdf = document.getElementById('blog-pdf').files[0];
            const blogDoc = document.getElementById('blog-doc').files[0];

            if (blogTitle && blogContent && blogImage) {
                const blog = {
                    title: blogTitle,
                    content: blogContent,
                    imageUrl: URL.createObjectURL(blogImage),
                    pdfUrl: blogPdf ? URL.createObjectURL(blogPdf) : null,
                    docUrl: blogDoc ? URL.createObjectURL(blogDoc) : null,
                    approved: false, // Not approved yet
                    comments: []
                };

                let blogs = JSON.parse(localStorage.getItem('blogs')) || [];
                blogs.push(blog);
                localStorage.setItem('blogs', JSON.stringify(blogs));

                alert('Blog submitted successfully. Please wait for the admin to approve.');

                // Clear form
                document.getElementById('blog-form').reset();

                loadPendingBlogs();
            } else {
                alert('Please fill in the title, content, and upload an image.');
            }
        }

        function loadBlogs() {
            const blogDisplay = document.getElementById('blog-display');
            blogDisplay.innerHTML = ''; // Clear the blog display

            let blogs = JSON.parse(localStorage.getItem('blogs')) || [];

            blogs.forEach((blog, index) => {
                if (blog.approved) {
                    const blogBox = document.createElement('div');
                    blogBox.classList.add('blog-box');

                    // Display the image
                    const img = document.createElement('img');
                    img.src = blog.imageUrl;
                    blogBox.appendChild(img);

                    // Display the title and content
                    const h3 = document.createElement('h3');
                    h3.textContent = blog.title;
                    blogBox.appendChild(h3);

                    const p = document.createElement('p');
                    p.textContent = blog.content;
                    blogBox.appendChild(p);

                    // Display the PDF link if uploaded
                    if (blog.pdfUrl) {
                        const pdfLink = document.createElement('a');
                        pdfLink.href = blog.pdfUrl;
                        pdfLink.textContent = "Download PDF";
                        pdfLink.target = "_blank";
                        blogBox.appendChild(pdfLink);
                    }

                    // Display the Word Document link if uploaded
                    if (blog.docUrl) {
                        const docLink = document.createElement('a');
                        docLink.href = blog.docUrl;
                        docLink.textContent = "Download Word Document";
                        docLink.target = "_blank";
                        blogBox.appendChild(docLink);
                    }

                    // Comment Section
                    const commentSection = document.createElement('div');
                    commentSection.classList.add('comment-section');

                    const commentTextarea = document.createElement('textarea');
                    commentTextarea.placeholder = 'Add a comment...';
                    commentTextarea.setAttribute('id', `comment-${index}`);
                    commentSection.appendChild(commentTextarea);

                    const commentButton = document.createElement('button');
                    commentButton.textContent = 'Submit Comment';
                    commentButton.onclick = () => submitComment(index);
                    commentSection.appendChild(commentButton);

                    // Display comments
                    blog.comments.forEach(comment => {
                        const commentP = document.createElement('p');
                        commentP.textContent = comment;
                        commentSection.appendChild(commentP);
                    });

                    blogBox.appendChild(commentSection);
                    blogDisplay.appendChild(blogBox);
                }
            });
        }

        function submitComment(blogIndex) {
            const comment = document.getElementById(`comment-${blogIndex}`).value;
            let blogs = JSON.parse(localStorage.getItem('blogs')) || [];
            blogs[blogIndex].comments.push(comment);
            localStorage.setItem('blogs', JSON.stringify(blogs));

            loadBlogs();
        }

        function loadPendingBlogs() {
            const pendingBlogs = document.getElementById('pending-blogs');
            pendingBlogs.innerHTML = ''; // Clear pending blogs display

            let blogs = JSON.parse(localStorage.getItem('blogs')) || [];

            blogs.forEach((blog, index) => {
                if (!blog.approved) {
                    const blogBox = document.createElement('div');
                    blogBox.classList.add('blog-box');

                    const h3 = document.createElement('h3');
                    h3.textContent = blog.title;
                    blogBox.appendChild(h3);

                    const approveButton = document.createElement('button');
                    approveButton.textContent = 'Approve';
                    approveButton.onclick = () => approveBlog(index);
                    blogBox.appendChild(approveButton);

                    pendingBlogs.appendChild(blogBox);
                }
            });
        }

        function approveBlog(blogIndex) {
            let blogs = JSON.parse(localStorage.getItem('blogs')) || [];
            blogs[blogIndex].approved = true;
            localStorage.setItem('blogs', JSON.stringify(blogs));

            loadBlogs();
            loadPendingBlogs();
        }

        function adminLogin() {
            const pass = document.getElementById('admin-pass').value;
            if (pass === ADMIN_PASSWORD) {
                document.getElementById('admin-password').style.display = 'none';
                document.getElementById('admin-section').style.display = 'block';
                loadPendingBlogs();
            } else {
                alert('Incorrect password.');
            }
        }
    </script>
</body>
</html>
